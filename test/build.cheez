std :: import "std.cheez"
io :: std.io

_ :: Main()
Main :: () {
    mut foo := Foo(5)
    foo.func()

    io.print_string("---")

    mut bar := Bar[int, 3]([1, 2, 3])
    io.print_int(bar.v[0])
    io.print_int(bar.v[1])
    io.print_int(bar.v[2])
    bar.print()
}

Bar :: (T: type, N: int) struct {
    pub v : [N]T
}

impl Bar[int, 3] {
    pub print :: (self: &Bar[int, 3]) do
        io.print_int(self.v[0])
        io.print_int(self.v[1])
        io.print_int(self.v[2])
}

Foo :: struct {
    v : int
}

impl Foo {
    pub func :: (self: &Foo) do
        io.print_string("c()")
        io.print_int(self.v)
}